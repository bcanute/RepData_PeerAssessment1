<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Reproducible Research: Peer Assessment 1</title>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>

<!-- MathJax scripts -->
<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}

pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<h1>Reproducible Research: Peer Assessment 1</h1>

<h2>Background</h2>

<h3>Embargo</h3>

<p>These are the notes of my exploration of the raw data.  They are clearly not suitable for publication to any audience not familiar with the R language and the general approach to data exploration, employed in this context.  They simply form a complete record of my exploration and as such they do not elucidate this particular dataset and its implications all that clearly.  However, these transformations of the data form the foundations for the preparation of a publishable report.</p>

<h3>Original Documentation</h3>

<p>The instructions and data for this assignment were forked from </p>

<p><a href="https://github.com/rdpeng/RepData_PeerAssessment1">https://github.com/rdpeng/RepData_PeerAssessment1</a>  </p>

<p>and placed in my local repo: PeerAssessment1</p>

<p>At the conclusion of these steps, the new repo was pushed back to GitHub, from where it can now be forked.</p>

<p>##Functions</p>

<pre><code class="r">lookup_steps &lt;- function(average_steps, missing_days){
  ii &lt;- dim(missing_days)
  i &lt;- ii[1]
  for(n in 1:i){
    day &lt;- missing_days[n, &quot;day&quot;]
    interval &lt;- missing_days[n, &quot;interval&quot;]
    missing_days[n, &quot;steps&quot;] &lt;- average_steps[(average_steps$day==day)
                                  &amp;(average_steps$interval==interval), &quot;steps&quot;]
    next
  }
  return(missing_days)
}
#this function will return the day of the week for a given date
what_day &lt;- function(date){
  date &lt;- as.POSIXlt(date,format=&quot;%Y-%m-%d&quot;)
  wday &lt;- weekdays(date)
}
#data$day &lt;- sapply(data$date, what_day)
#this function will adjust the interval minutes to decimal fraction of an hour
dec_mins &lt;- function(x){
  hours &lt;- floor(x/100) 
  mins &lt;- (x %% 100)*100/60
  y &lt;- as.integer(round(100*hours + mins))
  }
</code></pre>

<h2>Loading and preprocessing the data</h2>

<pre><code class="r">#setwd(&quot;C:/Users/Brian/Documents/PeerAssessment1&quot;)#Set WD to local repo.
unzip(&quot;activity.zip&quot;)#leaves the data file in the WD.
data &lt;- read.csv(file = &quot;activity.csv&quot;, header = TRUE)
</code></pre>

<h3>Check the contents of the data file.</h3>

<p>####Code</p>

<pre><code class="r">str(data)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    17568 obs. of  3 variables:
##  $ steps   : int  NA NA NA NA NA NA NA NA NA NA ...
##  $ date    : Factor w/ 61 levels &quot;2012-10-01&quot;,&quot;2012-10-02&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ interval: int  0 5 10 15 20 25 30 35 40 45 ...
</code></pre>

<pre><code class="r">summary(data)
</code></pre>

<pre><code>##      steps               date          interval   
##  Min.   :  0.0   2012-10-01:  288   Min.   :   0  
##  1st Qu.:  0.0   2012-10-02:  288   1st Qu.: 589  
##  Median :  0.0   2012-10-03:  288   Median :1178  
##  Mean   : 37.4   2012-10-04:  288   Mean   :1178  
##  3rd Qu.: 12.0   2012-10-05:  288   3rd Qu.:1766  
##  Max.   :806.0   2012-10-06:  288   Max.   :2355  
##  NA&#39;s   :2304    (Other)   :15840
</code></pre>

<pre><code class="r">d &lt;&lt;- dim(data)
d
</code></pre>

<pre><code>## [1] 17568     3
</code></pre>

<pre><code class="r">c1 &lt;&lt;- sum(!is.na(data$steps))#Steps recorded as anticipated
c1
</code></pre>

<pre><code>## [1] 15264
</code></pre>

<pre><code class="r">c2 &lt;&lt;- sum((!is.na(data$steps)) &amp; (data$steps == 0))#Zero Steps recorded
c2
</code></pre>

<pre><code>## [1] 11014
</code></pre>

<pre><code class="r">c3 &lt;&lt;- sum(is.na(data$steps))#NA
c3
</code></pre>

<pre><code>## [1] 2304
</code></pre>

<p>####Commentary</p>

<p>The above code shows that the raw data is a dataframe composed of 17568 observations of 3 variables.</p>

<ul>
<li>$steps    (integer)the number of steps taken in that interval </li>
<li>$date     (character factor)the date of the recording</li>
<li>$interval (integer)the time of the recording in 5 minute intervals (hhmm)</li>
</ul>

<p>The dataframe contains 15264 complete records, 11014 of which recorded 0 steps.
A further 2304 records have missing data ($steps == NA) which is interpreted to mean that the device was malfunctioning at these intervals.</p>

<p>###Is there a pattern to the missing data?</p>

<p>####Code</p>

<pre><code class="r">#Check the other 2 variables for NA&#39;s
data[is.na(data$date),]
</code></pre>

<pre><code>## [1] steps    date     interval
## &lt;0 rows&gt; (or 0-length row.names)
</code></pre>

<pre><code class="r">data[is.na(data$interval),]
</code></pre>

<pre><code>## [1] steps    date     interval
## &lt;0 rows&gt; (or 0-length row.names)
</code></pre>

<pre><code class="r">#We appear to have 61 complete days of 288 * 5 minute intervals.
e1 &lt;&lt;- c1/288
#So, we have 8 complete days of missing $steps == NA
missingdays &lt;- (data[is.na(data$steps),&quot;date&quot;])
length(missingdays)
</code></pre>

<pre><code>## [1] 2304
</code></pre>

<pre><code class="r">a1 &lt;- length(unique(missingdays))
e3 &lt;&lt;- c3/288
#This leaves us with 53*288 intervals of zero and non-zero data
dim(data[!is.na(data$steps),])
</code></pre>

<pre><code>## [1] 15264     3
</code></pre>

<pre><code class="r">53*288
</code></pre>

<pre><code>## [1] 15264
</code></pre>

<p>####Commentary</p>

<p>The above manipulations helped to better understand the overall shape of the data.\n
It demonstrates that:</p>

<ol>
<li>All the missing NA&#39;s are contained in $steps variable.</li>
<li>There are 53 complete days, each with 288*5 minute intervals.</li>
<li>And there are 8 missing days, each with 288*5 minute intervals.</li>
</ol>

<p>#####How many complete days do we have?</p>

<p>####Code</p>

<pre><code class="r">complete_days &lt;- data[!is.na(data$steps),]#Reduces the dataset to $steps==NA
complete_days &lt;- complete_days[complete_days$interval==0,]#Reduces the dataset to 8 days
table(complete_days$day)#Shows how many complete days on each day of the week.
</code></pre>

<pre><code>## &lt; table of extent 0 &gt;
</code></pre>

<p>######Which days of the week are missing?.</p>

<pre><code class="r">data$day &lt;- sapply(data$date, what_day)
data$day &lt;- ordered(data$day, levels = c(&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, 
                                           &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;))
missing_days &lt;- data[is.na(data$steps),]#Reduces the dataset to $steps==NA
missing_days &lt;- missing_days[missing_days$interval==0,]#Reduces the dataset to 8 days
table(missing_days$day)#Shows how many missing days on each day of the week.
</code></pre>

<pre><code>## 
##    Monday   Tuesday Wednesday  Thursday    Friday  Saturday    Sunday 
##         2         0         1         1         2         1         1
</code></pre>

<p>####Commentary</p>

<p>The above code shows that both the complete and the missing days are spread evenly throughout the days of the week.</p>

<h2>What is the mean total number of steps taken per day?</h2>

<p>For this part of the assignment, you can ignore the missing values in the dataset.</p>

<pre><code class="r">data2 &lt;- data[!is.na(data$steps),] #Remove the rows with $steps == NA
dim(data2) #Confirm that only NA&#39;s are removed
</code></pre>

<pre><code>## [1] 15264     4
</code></pre>

<pre><code class="r">length(unique(data2$date)) #Confirm the number of days of complete data (see previous calculation)
</code></pre>

<pre><code>## [1] 53
</code></pre>

<pre><code class="r">str(data2)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    15264 obs. of  4 variables:
##  $ steps   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ date    : Factor w/ 61 levels &quot;2012-10-01&quot;,&quot;2012-10-02&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ interval: int  0 5 10 15 20 25 30 35 40 45 ...
##  $ day     : Ord.factor w/ 7 levels &quot;Monday&quot;&lt;&quot;Tuesday&quot;&lt;..: 2 2 2 2 2 2 2 2 2 2 ...
</code></pre>

<pre><code class="r">#Count the total steps for each day for the histogram
daily_total_steps &lt;- aggregate(data2$steps, by=list(data2$date), FUN=sum)
hist(daily_total_steps$x, ylim=c(0, 20), 
     main = &quot;Histogram of Each Day&#39;s Total Daily Steps&quot;, breaks = 10,
      xlab = &quot;Total Number of Steps on a Given Day&quot;, 
      ylab = &quot;Number of Days&quot;, labels = TRUE)
</code></pre>

<p><img src="figure/unnamed-chunk-7.png" alt="plot of chunk unnamed-chunk-7"/> </p>

<pre><code class="r">dev.copy(png, &quot;C:/Users/Brian/Documents/PeerAssessment1/figure/hist1.png&quot;)
</code></pre>

<pre><code>## png 
##   3
</code></pre>

<pre><code class="r">dev.off()
</code></pre>

<pre><code>## pdf 
##   2
</code></pre>

<pre><code class="r">#Calculate and report the mean and median total number of steps taken per day
summary(daily_total_steps$x)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##      41    8840   10800   10800   13300   21200
</code></pre>

<pre><code class="r">#daily_mean_steps &lt;- aggregate(data2$steps, by=list(data2$date), FUN=mean)
#daily_median_steps &lt;- aggregate(data2$steps, by=list(data2$date), FUN=median)
</code></pre>

<h2>What is the average daily activity pattern?</h2>

<h3>Commentary</h3>

<p>The dec_mins function constructed up in the Functions section of this document was used to rid the plot of the gaps between the 55th and the 60th minute of each hour.</p>

<p>###Code</p>

<pre><code class="r">###Make a time series plot (i.e. type = &quot;l&quot;) of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)

data3 &lt;- data[!is.na(data$steps),]
data3$interval &lt;- sapply(data3$interval, dec_mins)#convert minutes to a decimal

library(ggplot2)
data3$interval &lt;- data3$interval/100
data3$steps &lt;- data3$steps/5
interval_mean_steps &lt;- aggregate(data3$steps, by=list(data3$interval), FUN=mean)
png(&quot;C:/Users/Brian/Documents/PeerAssessment1/figure/plot2.png&quot;)
plot(interval_mean_steps, type = &quot;l&quot;, xaxp = c(0, 24, 4),
    xlab = &quot;Time of day (24 hour clock), starting at midnight.&quot;,
    ylab = &quot;Average number of steps per minute.&quot;,
    main = &quot;Average activity level across the day (Steps per minute.)&quot;)
dev.off()
</code></pre>

<pre><code>## pdf 
##   2
</code></pre>

<h2>Imputing missing values</h2>

<p>###Discussion</p>

<p>As shown above, the missing days are distributed evenly between the weekdays (6) and the weekends (2).  So it was decided to impute the missing values by calculating the mean for a given interval on a given day of the week and to insert that mean into the same missing day/interval.</p>

<p>###Code</p>

<pre><code class="r">complete_data &lt;- data[!is.na(data$steps),] #Remove the rows with $steps == NA
average_steps &lt;- aggregate(complete_data$steps, by=list(complete_data$day, complete_data$interval),
                           FUN=mean)
names(average_steps) &lt;- c(&quot;day&quot;, &quot;interval&quot;, &quot;steps&quot;)
average_steps$steps &lt;- as.integer(round(average_steps$steps))

missing_days &lt;- data[is.na(data$steps),]#select the records with missing $steps == NA
fixed_missing_days &lt;- lookup_steps(average_steps, missing_days)# ref: Functions section this report

fixed_data &lt;- rbind(complete_data, fixed_missing_days)
#check for missing $steps
fixed_data[is.na(fixed_data$steps),]
</code></pre>

<pre><code>## [1] steps    date     interval day     
## &lt;0 rows&gt; (or 0-length row.names)
</code></pre>

<h2>Are there differences in activity patterns between weekdays and weekends?</h2>

<p>###Commentary</p>

<p>As with the previous plot, the gaps had to be removed at the ends of each hour. </p>

<p>The comparison between the week days and the weekends shows a reasonably predictable cultural pattern of an early morning walk or jog followed by a mainly sedentary lifestyle during the rest of the working day.  On the weekend, there is a higher average level of activity across the days, consistent with weekend leisure activities.</p>

<p>###Code</p>

<pre><code class="r">data4 &lt;- data[!is.na(data$steps),]#remove the missing $steps == NA
#Convert minutes to 100ths of an hour to remove gaps in plot between 55 an 60 minutes.
data4$interval &lt;- sapply(data4$interval, dec_mins)#See dec_mins()in Functions
date &lt;- as.POSIXlt(data4$date,format=&quot;%Y-%m-%d&quot;)#Convert $date to DATE format
head(date)
</code></pre>

<pre><code>## [1] &quot;2012-10-02 EST&quot; &quot;2012-10-02 EST&quot; &quot;2012-10-02 EST&quot; &quot;2012-10-02 EST&quot;
## [5] &quot;2012-10-02 EST&quot; &quot;2012-10-02 EST&quot;
</code></pre>

<pre><code class="r">head(date$wday)
</code></pre>

<pre><code>## [1] 2 2 2 2 2 2
</code></pre>

<pre><code class="r">wdays &lt;- (weekdays(date))
wdays &lt;- data.frame(day = wdays, interval = data4$interval, steps = data4$steps)
head(wdays)
</code></pre>

<pre><code>##       day interval steps
## 1 Tuesday        0     0
## 2 Tuesday        8     0
## 3 Tuesday       17     0
## 4 Tuesday       25     0
## 5 Tuesday       33     0
## 6 Tuesday       42     0
</code></pre>

<pre><code class="r">weekends &lt;- wdays[(wdays$day == &quot;Saturday&quot;)|(wdays$day == &quot;Sunday&quot;), c(&quot;interval&quot;, &quot;steps&quot;)]
weekdays &lt;- wdays[!((wdays$day == &quot;Saturday&quot;)|(wdays$day == &quot;Sunday&quot;)), c(&quot;interval&quot;, &quot;steps&quot;)]
weekend_mean_steps &lt;- aggregate(weekends$steps, by=list(weekends$interval), FUN=mean)
weekday_mean_steps &lt;- aggregate(weekdays$steps, by=list(weekdays$interval), FUN=mean)
weekend.df &lt;- data.frame(day = &quot;weekend&quot;, interval = weekend_mean_steps$Group.1, steps = weekend_mean_steps$x)
weekday.df &lt;- data.frame(day = &quot;weekday&quot;, interval = weekday_mean_steps$Group.1, steps = weekday_mean_steps$x)
combined.df &lt;- rbind(weekend.df, weekday.df)
combined.df$interval &lt;- combined.df$interval/100
library(lattice)
combined_plot &lt;- xyplot(steps ~ interval | day , data=combined.df, type = &quot;l&quot;, layout = c(1,2),
  xlab = &quot;Time of day (24 hour clock), starting at midnight.&quot;,
  ylab = &quot;Average number of steps per minute.&quot;,
  main = &quot;Comparing average activity levels across the day\n on Weekdays and Weekends.&quot;)
trellis.device(device = &quot;png&quot;, file = &quot;C:/Users/Brian/Documents/PeerAssessment1/figure/combined_plot.png&quot;)
print(combined_plot)#, &quot;C:/Users/Brian/Documents/PeerAssessment1/figure/combined_plot.png&quot;)
dev.off()
</code></pre>

<pre><code>## pdf 
##   2
</code></pre>

<h2>Software</h2>

<p>This document was created using:</p>

<p>RStudio  Version 0.98.953 - © 2009-2013 RStudio, Inc.</p>

<p>knitr Version 1.6</p>

</body>

</html>
